<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <ui:composition template="/templates/templateGeneral.xhtml">
        <ui:define name="titlePage">
            <title>Eccad - Contact</title>
        </ui:define>
        <ui:define name="centerPage">
            <h:form id="contactForm">
                <p:growl id="msgs" severity="info" />
                <p:panel id="contactPanel" header="Send us your message" >
                    <h:outputText id="messageInvitation" value="Send us your message, we'll answer as soon as possible."/>
                    <p:messages severity="fatal" id="messagesInfos" autoUpdate="true" showDetail="true"/>
                    <p:panelGrid columns="3">

                        <p:outputLabel for="lastnameInput" id="lastnameInputLabel" value="Name *"/>
                        <p:inputText id="lastnameInput" value="#{contactBean.lastname}" required="true" requiredMessage="#{msgbundle['contact.fieldRequired']}">
                            <f:ajax event="blur" render="lastnameMessage"/>
                        </p:inputText>
                        <p:message id="lastnameMessage" for="lastnameInput"/>

                        <p:outputLabel for="firstnameInput" id="firstnameInputLabel" value="Surname *"/>
                        <p:inputText id="firstnameInput" value="#{contactBean.firstname}"  required="true" requiredMessage="#{msgbundle['contact.fieldRequired']}">
                            <f:ajax event="blur" render="firstnameMessage"/>
                        </p:inputText>
                        <p:message id="firstnameMessage" for="firstnameInput"/>

                        <p:outputLabel for="emailfromInput" id="emailfromInputLabel" value="Email *"/>
                        <p:inputText id="emailfromInput" value="#{contactBean.emailfrom}" required="true" requiredMessage="#{msgbundle['contact.fieldRequired']}">
                            <f:ajax event="blur" render="emailfromMessage"/>
                        </p:inputText>
                        <p:message id="emailfromMessage" for="emailfromInput"/>

                        <p:outputLabel for="emailsubjectInput" id="emailsubjectInputLabel" value="Subject *"/>
                        <p:inputText id="emailsubjectInput" value="#{contactBean.emailsubject}" required="true" requiredMessage="#{msgbundle['contact.fieldRequired']}">
                            <p:watermark for="emailsubjectInput" value="what to say"/>
                            <f:ajax event="blur" render="emailsubjectMessage"/>
                        </p:inputText>
                        <p:message id="emailsubjectMessage" for="emailsubjectInput"/>

                        <p:outputLabel for="emailbodyInput" id="emailbodyInputLabel" value="Message *"/>
                        <p:inputTextarea id="emailbodyInput" rows="10" cols="50" value="#{contactBean.emailbody}"/>


                    </p:panelGrid> 
                    <p:commandButton update="msgs" type="submit" value="Send" ajax="true" action="#{contactBean.sendMessage}"/>
                </p:panel>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
